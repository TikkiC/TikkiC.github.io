# MedPlatform · цифровая координация медицинской помощи

Прототип экосистемы для управления обращениями пациентов в Астраханской области. В составе:
- публичный лендинг с записью на прием и персонализированными рекомендациями,
- административная панель для мониторинга потоков пациентов и работы отделений,
- личный кабинет врача с рабочим календарем,
- демонстрационное REST API и "псевдо-БД" для быстрой интеграции с реальной инфраструктурой.

## Ключевые возможности
- Онлайн-запись с рекомендацией типа обслуживания, врача и доступных слотов.
- Управление уведомлениями и обращениями с учетом статуса авторизации.
- Админ-дэшборд с метриками, загрузкой отделений, фильтрацией и поиском.
- Кабинет врача с расписанием, статусами обращений и карточками пациентов.
- Псевдо-БД (`data/pseudo-db.json`) как единый источник тестовых данных для фронтенда и API.

## Структура репозитория
```
├── index.html                # Публичная страница платформы
├── css/                      # Общие стили проекта
├── js/                       # Скрипты лендинга и общие модули
├── dashboard/                # Веб-дэшборд администратора
├── doctor/                   # Интерфейс врача
├── dashboard-api/            # Express API для дэшборда
└── data/pseudo-db.json       # Псевдо-БД с тестовыми данными
```

## Быстрый старт
### 1. Фронтенд (лендинг, дэшборд, кабинет врача)
> Все страницы читают данные напрямую из `data/pseudo-db.json`, поэтому для демонстрации достаточно статического сервера.

```powershell
cd "c:\Users\Allorific\Desktop\Хакатон ПсевдоБД 2"
python -m http.server 5500
```

После запуска откройте в браузере:
- `http://localhost:5500/index.html` — публичная часть,
- `http://localhost:5500/dashboard/index.html` — панель администратора,
- `http://localhost:5500/doctor/index.html` — кабинет врача.

> Альтернатива: `npx serve .` или расширение VS Code Live Server.

### 2. REST API для дэшборда
```powershell
cd "c:\Users\Allorific\Desktop\Хакатон ПсевдоБД 2\dashboard-api"
npm install
npm run dev
```

Сервер по умолчанию стартует на `http://localhost:4000` и возвращает данные из `mockData.js` / `pseudo-db.json`. Для подключения реальной БД настройте `db.js` и переменные окружения (`.env`).

## Работа с псевдо-БД
- Основные сущности (`doctors`, `users`, `notifications`, `dashboard`, `doctorSchedules`) лежат в `data/pseudo-db.json`.
- При регистрации новых пользователей запись сохраняется в памяти страницы (файл не перезаписывается автоматически).
- Чтобы обновить тестовые данные централизованно, отредактируйте `pseudo-db.json` и перезапустите статический сервер / API.

## Аутентификация персонала
- Файл `js/staff-auth.js` управляет сессиями сотрудников (администратор, врач).
- После входа администратору доступен редирект в `dashboard/index.html`, врачу — в `doctor/index.html`.
- Из дэшборда можно выйти через кнопку "Выйти", сессия очищается локально.

## API-эндпойнты (по умолчанию, режим mock)
| Метод | Путь | Описание |
|-------|------|----------|
| GET | `/api/status` | Проверка статуса API |
| GET | `/api/metrics` | Ключевые показатели |
| GET | `/api/trend?range=7\|30\|90` | Динамика обращений |
| GET | `/api/capacity` | Загрузка отделений |
| GET | `/api/requests` | Последние обращения |
| POST | `/api/requests` | Создание обращения |
| PUT | `/api/requests/:id/status` | Обновление статуса |
| GET | `/api/team` | Список координаторов и врачей |
| GET | `/api/timeline` | Лента событий |

## Скриншоты (плейсхолдеры)
Проставьте свои файлы в каталог `docs/images/` и обновите скриншоты:

![Главный экран — замените на реальный скрин](docs/images/main-screen.png)
> _TODO: добавьте файл `docs/images/main-screen.png`._

![Админ-дэшборд — замените на реальный скрин](docs/images/dashboard-screen.png)
> _TODO: добавьте файл `docs/images/dashboard-screen.png`._

![Кабинет врача — замените на реальный скрин](docs/images/doctor-screen.png)
> _TODO: добавьте файл `docs/images/doctor-screen.png`._

## Как добавить изображения в README без внешних URL
1. Создайте папку для ассетов, например `docs/images/` (GitHub сохранит её в репозитории).
2. Поместите туда PNG/JPEG/WebP файлы со скриншотами.
3. Сослитесь на них относительным путем в README:

   ```markdown
   ![Подпись скрина](docs/images/main-screen.png "Необязательный заголовок")
   ```

4. Закоммитьте изображения вместе с README — GitHub отобразит их напрямую из репозитория, без сторонних хостингов.

## Дальнейшие шаги
- Подключить реальную БД через `dashboard-api/db.js`.
- Реализовать сохранение заявок и авторизаций на сервере.
- Настроить автоматические тесты и CI/CD для деплоя прототипа.
